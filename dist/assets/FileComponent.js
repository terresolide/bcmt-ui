import{z as L,j as r,u as C,h as u,a as z,c as a,d as n,e as t,n as c,F as d,g as f,t as l,f as m,A as B}from"./index.js";const F={class:"download"},p=["title"],M={class:"title"},D={class:"dates"},S={class:"center"},$={class:"doi"},j=["href"],N={class:"sampling"},O={class:"license"},T=["href"],V={__name:"FileComponent",props:{file:Object,group:String,disabled:Boolean,selected:Object},setup(e){const w=r(()=>{var i=/[^\.]*\.([^.]*)$/.exec(e.file.name);return i.length>1?i[1]:""}),o=C(),h=r(()=>u(e.file.properties.start).format("ll")),k=r(()=>u(e.file.properties.end).format("ll")),v=r(()=>o.getters["basket/in"](e.file.name)),g=z(!1);async function b(){const i=await fetch(e.file.properties.file).then(s=>s.blob());B.saveAs(i,e.file.name),g.value=!0}function x(){o.getters["basket/in"](e.file.name)?(console.log("remove"),o.commit("basket/remove",e.file.name)):o.dispatch("basket/add",e.file).then(i=>{console.log(i)})}return(i,s)=>(n(),a("div",{class:c(["file",e.group+(e.selected&&e.file.name===e.selected.name?" selected":"")])},[t("div",F,[t("a",{onClick:s[0]||(s[0]=y=>b()),title:"Download",style:{cursor:"pointer"},class:c({visited:g.value})},s[2]||(s[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",viewBox:"0 0 384 512"},[t("path",{d:"M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM216 232l0 102.1 31-31c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-72 72c-9.4 9.4-24.6 9.4-33.9 0l-72-72c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l31 31L168 232c0-13.3 10.7-24 24-24s24 10.7 24 24z"})],-1)]),2),t("a",{title:v.value?"remove from basket":"add to basket",class:c({disabled:e.disabled&&!v.value}),style:{"margin-left":"10px"},onClick:x},[s[3]||(s[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",viewBox:"0 0 576 512"},[t("path",{d:"M253.3 35.1c6.1-11.8 1.5-26.3-10.2-32.4s-26.3-1.5-32.4 10.2L117.6 192 32 192c-17.7 0-32 14.3-32 32s14.3 32 32 32L83.9 463.5C91 492 116.6 512 146 512L430 512c29.4 0 55-20 62.1-48.5L544 256c17.7 0 32-14.3 32-32s-14.3-32-32-32l-85.6 0L365.3 12.9C359.2 1.2 344.7-3.4 332.9 2.7s-16.3 20.6-10.2 32.4L404.3 192l-232.6 0L253.3 35.1zM192 304l0 96c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-96c0-8.8 7.2-16 16-16s16 7.2 16 16zm96-16c8.8 0 16 7.2 16 16l0 96c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-96c0-8.8 7.2-16 16-16zm128 16l0 96c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-96c0-8.8 7.2-16 16-16s16 7.2 16 16z"})],-1)),v.value?(n(),a(d,{key:0},[f(" - ")],64)):(n(),a(d,{key:1},[f(" + ")],64))],10,p),t("div",{class:"draw",title:"Draw",onClick:s[1]||(s[1]=y=>i.$emit("draw"))},s[4]||(s[4]=[t("svg",{"data-name":"Layer 1",width:"12",height:"12",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[t("path",{d:"m.64 11.85-.66-.75 2.57-2.25 2.02 1.55 4.68-5.15 3.72 3.59 2.4-2.05.65.75-3.08 2.66-3.65-3.52-4.6 5.08-2.1-1.62-1.95 1.71z"})],-1)]))]),t("div",M,l(e.file.name),1),t("div",D,[f(l(h.value)+" ",1),e.file.properties.samplingPeriod!=="daily"?(n(),a(d,{key:0},[t("span",{class:c(["arrow",e.group])},"â†’",2),f(" "+l(k.value),1)],64)):m("",!0)]),t("div",S,l(e.file.properties.analysisCentre),1),t("div",$,[e.file.properties.doi?(n(),a("a",{key:0,href:"https://doi.org/"+e.file.properties.doi,target:"_blank"},"DOI: "+l(e.file.properties.doi),9,j)):m("",!0)]),t("div",N,l(w.value)+", "+l(e.file.properties.samplingPeriod),1),t("div",O,[e.file.properties.license?(n(),a(d,{key:0},[e.file.properties.licenseTerms?(n(),a("a",{key:0,href:e.file.properties.licenseTerms,target:"_blank"},l(e.file.properties.license),9,T)):m("",!0)],64)):m("",!0)])],2))}},E=L(V,[["__scopeId","data-v-943713a7"]]);export{E as F};
